<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">Books <a class="btn btn-default" data-toggle="modal" data-target="#newModal">
        <span>+</span>
      </a>
    </h1>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-body">
    <div class="dataTable_wrapper">
      <table class="table table-striped table-bordered table-hover" id="books" style="width: 100%;">
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>ISBN-10</th>
            <th>Published</th>
            <th>Genre</th>
            <th>Fiction?</th>
            <th>ISBN-13</th>
            <th>Rating</th>
          </tr>
        </thead>
        <tbody>
          <% @books.each do |book| %>
            <tr>
              <td><%= book.id %></td>
              <td>
                <%= book.title.titlecase %>
                <%= delete_link(book, "book") %>
                <%= edit_link(book, 'book') %>
                
                <%= link_to new_book_transaction_path(book), data: {remote: true, toggle: 'modal', target: '#checkOutModal'}, class: 'tooltip-edit' do %>
                  <div class="glyphicon glyphicon-log-out" data-toggle='tooltip' data-placement='top' data-original-title='Check-Out'></div>
                <% end %>
                <% if book.checked_out? then %> 
                  <%= link_to new_book_transaction_path(book), data: {remote: true, toggle: 'modal', target: '#checkInModal'}, class: 'tooltip-edit' do %>
                    <div class="glyphicon glyphicon-log-in" data-toggle='tooltip' data-placement='top' data-original-title='Check-In'></div>
                  <% end %>
                <% end %> 
              </td>
              <td><%= book.author_name %></td>
              <td><%= book.isbn_10 %></td>
              <td><%= book.publish_date.strftime("%B %Y") %></td>
              <td><%= if !book.genre.nil? then book.genre.name.titlecase else book.genre.class end %></td>
              <td><%= book.is_fiction %></td>
              <td><%= book.isbn_13 %></td>
              <td><%= book.rating %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- New Book Modal -->
<div class="fade modal" id="newModal" tabindex="-1" role="dialog" aria-labelledby="newModalLabel" aria-hidden="true" style="display: none;">
</div>

<!-- Edit Book Modal -->
<div class="fade modal" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true" style="display: none;">
</div>

<!-- Check Out Book Modal -->
<div class="fade modal" id="checkOutModal" tabindex="-1" role="dialog" aria-labelledby="checkOutModalLabel" aria-hidden="true" style="display: none;">
</div>

<!-- Check In Book Modal -->
<div class="fade modal" id="checkInModal" tabindex="-1" role="dialog" aria-labelledby="checkInModalLabel" aria-hidden="true" style="display: none;">
</div>

<!-- Show Book Modal -->
<div class="fade modal" id="showModal" tabindex="-1" role="dialog" aria-labelledby="showModalLabel" aria-hidden="true" style="display: none;">
</div>
